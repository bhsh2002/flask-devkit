# Flask-DevKit: مجموعة أدوات API القابلة للتوسعة لـ Flask

`Flask-DevKit` هي مجموعة أدوات قوية وغير منحازة، مصممة لتسريع تطوير واجهات برمجة تطبيقات (APIs) آمنة وقابلة للتطوير وسهلة الصيانة باستخدام Flask. توفر أساسًا معماريًا متينًا ومجموعة من الأدوات للتعامل مع الكود المكرر الشائع، مما يتيح لك التركيز على منطق الأعمال الفريد لتطبيقك.

---

## التوثيق

**يقدم هذا الملف نظرة عامة موجزة. للحصول على التوثيق الكامل والمفصل، يرجى [الضغط هنا لعرض التوثيق الكامل](./docs/README.md).**

---

## الميزات الرئيسية

-   **هيكلية متعددة الطبقات:** تفرض فصلاً نظيفًا للاهتمامات مع طبقة خدمة، ونمط مستودع، ووحدة عمل محددة مسبقًا.
-   **توليد CRUD تلقائي:** توليد نقاط نهاية REST API كاملة ومخططات التحقق من الصحة المقابلة لها تلقائيًا من نماذج SQLAlchemy الخاصة بك.
-   **نظام مصادقة و RBAC مدمج:** نظام مصادقة وتحكم في الوصول قائم على الأدوار كامل الميزات وجاهز للاستخدام، بما في ذلك إدارة JWT، ونماذج المستخدم/الدور/الصلاحية، وحماية المسارات المستندة إلى الصلاحيات.
-   **تدقيق تلقائي:** يسجل تلقائيًا جميع عمليات `CREATE` و `UPDATE` و `DELETE` في سجل تدقيق دون الحاجة إلى أي تكوين.
-   **قابل للتوسيع حسب التصميم:** يمكن تجاوز أو تمديد كل مكون تقريبًا، من الخدمات والمستودعات إلى المسارات ومطالبات JWT، لتناسب احتياجاتك.
-   **أدوات مساعدة:** تتضمن مجموعة من المساعدين لإدارة قاعدة البيانات (أوامر CLI)، ومعالجة الأخطاء، وتحديد معدل الطلبات، والمزيد.

---

## بداية سريعة

يوضح هذا المثال كيفية إعداد تطبيق Flask مع نظام إدارة المستخدمين والمصادقة الافتراضي الذي يوفره `Flask-DevKit`.

1.  **تثبيت المكتبة:**
    ```bash
    poetry add flask-devkit
    ```

2.  **إنشاء مصنع التطبيق الخاص بك:**

    تقوم المكتبة بإدارة نسخة `SQLAlchemy` نيابة عنك. كل ما تحتاجه هو إنشاء نسخة من `DevKit` وتهيئتها.

    ```python
    # your_project/app.py
    from apiflask import APIFlask
    from flask_devkit import DevKit

    def create_app():
        app = APIFlask(__name__)

        # تكوين تطبيقك
        app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///app.db"
        app.config["SECRET_KEY"] = "your-super-secret-key-for-jwt"

        # إنشاء وتهيئة DevKit.
        # هذا الاستدعاء الواحد يعالج إعداد قاعدة البيانات والمصادقة والمسارات والمزيد.
        devkit = DevKit()
        devkit.init_app(app)

        return app
    ```

3.  **تعريف نماذجك:**

    عند تعريف نماذجك الخاصة، قم باستيراد كائن `db` المهيأ مسبقًا مباشرة من المكتبة. هذا يضمن أن نماذجك تستخدم نفس جلسة قاعدة البيانات والبيانات الوصفية (metadata) مثل باقي DevKit.

    ```python
    # your_project/models.py
    from flask_devkit.database import db

    class MyModel(db.Model):
        id = db.Column(db.Integer, primary_key=True)
        name = db.Column(db.String(100))
        # ... حقولك الأخرى
    ```

4.  **تهيئة وملء قاعدة البيانات:**
    ```bash
    # إنشاء جميع جداول قاعدة البيانات
    flask devkit-init-db

    # إنشاء الصلاحيات الافتراضية، ودور المسؤول، ومستخدم مسؤول
    flask devkit-seed
    ```

يحتوي تطبيقك الآن على واجهة برمجة تطبيقات تعمل بكامل طاقتها على `/api/v1` لتسجيل الدخول وإدارة المستخدمين والأدوار والصلاحيات.

---

لسيناريوهات أكثر تقدمًا، مثل إنشاء خدماتك الخاصة، وتخصيص السلوك، واستخدام الميزات الأخرى، يرجى الرجوع إلى **[التوثيق الكامل](./docs/README.md)**.
